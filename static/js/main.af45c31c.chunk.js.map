{"version":3,"sources":["components/books_list/books_list.module.css","components/book_info/book_info.module.css","components/books_item/books_item.jsx","components/books_list/books_list.jsx","components/book_info/book_info.jsx","components/header/header.jsx","app.jsx","index.js","service/kakaoService.js","components/header/header.module.css","components/books_item/books_item.module.css"],"names":["module","exports","BooksItem","book","clickBook","history","useHistory","console","log","className","styles","book_list","onClick","push","book_item","src","thumbnail","alt","book_img","book_info","title","price","sale_price","BooksList","books","books_list","map","isbn","BookInfo","book_info_wrap","book_text","dl","authors","publisher","status","contents","Header","search","onLogin","inputRef","useRef","goToHome","searchResult","inputText","current","value","header","logo","process","logo_img","head_title","ref","type","search_bar","onKeyPress","event","key","search_btn","sign_area","login","Kakao","window","App","kakaoService","useState","setBooks","clickedBook","setClickedBook","useEffect","showBookList","then","query","Auth","success","response","localStorage","setItem","fail","error","exact","path","this","a","myHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","json","result_1","documents","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af45c31c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"books_list\":\"books_list_books_list__kY_hM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book_info_wrap\":\"book_info_book_info_wrap__dufib\",\"book_info\":\"book_info_book_info__27nAE\",\"book_img\":\"book_info_book_img__Tn0oZ\",\"title\":\"book_info_title__SGkSB\",\"authors\":\"book_info_authors__n97_b\",\"dl\":\"book_info_dl__23QXS\",\"price\":\"book_info_price__1Blsm\",\"sale_price\":\"book_info_sale_price__2Gav8\",\"contents\":\"book_info_contents__2V1Qk\"};","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styles from \"./books_item.module.css\";\r\n\r\nconst BooksItem = ({ book, clickBook }) => {\r\n  const history = useHistory();\r\n\r\n  console.log(clickBook);\r\n\r\n  const goToBookInfo = () => {\r\n    history.push(\"/book-info\");\r\n    clickBook(book);\r\n    console.log(clickBook);\r\n  };\r\n\r\n  return (\r\n    <li className={styles.book_list} onClick={goToBookInfo}>\r\n      <div className={styles.book_item}>\r\n        <img\r\n          src={book.thumbnail}\r\n          alt={book.thumbnail}\r\n          className={styles.book_img}\r\n        />\r\n\r\n        <div className={styles.book_info}>\r\n          <h3 className={styles.title}> {book.title}</h3>\r\n          <div>\r\n            <div className={styles.price}>\r\n              <span>정상가</span>\r\n              <span> {book.price} 원</span>\r\n            </div>\r\n\r\n            <div className={styles.sale_price}>\r\n              <span>판매가</span>\r\n              <span> {book.sale_price} 원</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default BooksItem;\r\n","import React from \"react\";\r\nimport BooksItem from \"../books_item/books_item\";\r\nimport styles from \"./books_list.module.css\";\r\n\r\nconst BooksList = ({ books, clickBook }) => {\r\n  return (\r\n    <>\r\n      <ul className={styles.books_list}>\r\n        {books.map((book) => (\r\n          <BooksItem key={book.isbn} book={book} clickBook={clickBook} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BooksList;\r\n","import React from \"react\";\r\nimport styles from \"./book_info.module.css\";\r\n\r\nconst BookInfo = ({ book }) => {\r\n  console.log(book);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.book_info_wrap}>\r\n        <div className={styles.book_info}>\r\n          <img\r\n            src={book.thumbnail}\r\n            alt={book.title}\r\n            className={styles.book_img}\r\n          />\r\n          <div className={styles.book_text}>\r\n            <h2 className={styles.title}>{book.title}</h2>\r\n\r\n            <dl className={styles.dl}>\r\n              <dt>저자</dt>\r\n              <dd>{book.authors}</dd>\r\n            </dl>\r\n\r\n            <dl className={styles.dl}>\r\n              <dt>출판사</dt>\r\n              <dd>{book.publisher}</dd>\r\n            </dl>\r\n\r\n            <dl className={styles.dl}>\r\n              <dt>판매정보</dt>\r\n              <dd>{book.status}</dd>\r\n            </dl>\r\n\r\n            <dl className={`${styles.dl} ${styles.price}`}>\r\n              <dt>정상가</dt>\r\n              <dd>{book.price}원</dd>\r\n            </dl>\r\n\r\n            <dl className={`${styles.dl} ${styles.sale_price}`}>\r\n              <dt>판매가</dt>\r\n              <dd>{book.sale_price}원</dd>\r\n            </dl>\r\n          </div>\r\n        </div>\r\n        <p className={styles.contents}>{book.contents}</p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookInfo;\r\n","import React, { useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styles from \"./header.module.css\";\r\n\r\nconst Header = ({ search, onLogin }) => {\r\n  const history = useHistory();\r\n  const inputRef = useRef();\r\n\r\n  const goToHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const searchEnter = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      searchResult();\r\n    }\r\n    goToHome();\r\n  };\r\n\r\n  const searchClick = () => {\r\n    searchResult();\r\n    goToHome();\r\n  };\r\n\r\n  const searchResult = () => {\r\n    const inputText = inputRef.current.value;\r\n    search(inputText);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.logo} onClick={goToHome}>\r\n        <img\r\n          src={process.env.PUBLIC_URL + \"/imgs/logo.png\"}\r\n          className={styles.logo_img}\r\n          alt=\"logo\"\r\n        />\r\n        <h1 className={styles.head_title}>Kakao Book</h1>\r\n      </div>\r\n\r\n      <div className={styles.search}>\r\n        <input\r\n          ref={inputRef}\r\n          type=\"text\"\r\n          className={styles.search_bar}\r\n          onKeyPress={searchEnter}\r\n        />\r\n        <button className={styles.search_btn} onClick={searchClick}>\r\n          검색\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.sign_area}>\r\n        <img\r\n          src={process.env.PUBLIC_URL + \"/imgs/kakao_login.png\"}\r\n          alt=\"카카오톡 로그인\"\r\n          className={styles.login}\r\n          onClick={onLogin}\r\n        />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n// import styles from \"./app.module.css\";\nimport BooksList from \"./components/books_list/books_list\";\nimport BookInfo from \"./components/book_info/book_info\";\nimport Header from \"./components/header/header\";\n// import KakaoLogin from \"./components/kakao_login/kakao_login\";\n\nconst { Kakao } = window;\n\nfunction App({ kakaoService }) {\n  const [books, setBooks] = useState([]);\n  const [clickedBook, setClickedBook] = useState(null);\n\n  const KakaoLogin = () => {\n    Kakao.Auth.login({\n      success: function (response) {\n        localStorage.setItem(\"kakao_token\");\n        console.log(response);\n      },\n      fail: function (error) {\n        console.log(error);\n      },\n    });\n    // Kakao.Auth.authorize({\n    //   redirectUri: \"http://localhost:3000/oauth\",\n    // });\n  };\n\n  const clickBook = (book) => {\n    setClickedBook(book);\n  };\n\n  const search = (query) => {\n    kakaoService\n      .search(query) //\n      .then((books) => setBooks(books));\n  };\n\n  useEffect(() => {\n    kakaoService\n      .showBookList() //\n      .then((books) => setBooks(books));\n  }, []);\n\n  return (\n    <>\n      <Header search={search} onLogin={KakaoLogin} />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <BooksList books={books} clickBook={clickBook} />\n        </Route>\n\n        {/* <Route path=\"/login\">\n          <KakaoLogin kakaoCode={kakaoCode} />\n        </Route> */}\n\n        {clickedBook && (\n          <Route path=\"/book-info\">\n            <BookInfo book={clickedBook} />\n          </Route>\n        )}\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport KakaoService from \"./service/kakaoService\";\n\nconst kakaoService = new KakaoService(process.env.REACT_APP_KAKAO_API_KEY);\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <div className=\"app\">\n        <App kakaoService={kakaoService} />\n      </div>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n// f1ecec569093bda2f73f5de912bd4656\n","class KakaoService {\r\n  constructor(key) {\r\n    this.key = key;\r\n  }\r\n\r\n  // 첫 페이지 리스트 보여주는 api\r\n  async showBookList() {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", `KakaoAK ${this.key}`);\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `https://dapi.kakao.com/v3/search/book?query=여행&page=2&size=20&key=${this.key}`,\r\n        requestOptions\r\n      );\r\n      const result_1 = await response.json();\r\n      return result_1.documents;\r\n    } catch (error) {\r\n      return console.log(\"error\", error);\r\n    }\r\n  }\r\n\r\n  // 검색시 api\r\n  async search(query) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", `KakaoAK ${this.key}`);\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    const response = await fetch(\r\n      `https://dapi.kakao.com/v3/search/book?query=${query}&page=3&size=20&key=${this.key}`,\r\n      requestOptions\r\n    );\r\n    const result_1 = await response.json();\r\n    return result_1.documents;\r\n  }\r\n}\r\n\r\nexport default KakaoService;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__mKSL0\",\"logo\":\"header_logo__3X6B4\",\"logo_img\":\"header_logo_img__3zw8C\",\"head_title\":\"header_head_title__3HOEY\",\"search\":\"header_search__38ume\",\"search_bar\":\"header_search_bar__2WDB3\",\"search_btn\":\"header_search_btn__2cHhO\",\"login\":\"header_login__3_RxH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book_list\":\"books_item_book_list__3Pymk\",\"book_item\":\"books_item_book_item__2Ue9z\",\"book_info\":\"books_item_book_info__Ff2oH\",\"book_img\":\"books_item_book_img__2R5Za\",\"title\":\"books_item_title__dFqWL\",\"price\":\"books_item_price__36RXX\",\"sale_price\":\"books_item_sale_price__3cZQa\"};"],"sourceRoot":""}