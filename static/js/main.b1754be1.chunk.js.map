{"version":3,"sources":["app.module.css","components/book_info/book_info.module.css","components/books_list/books_list.module.css","components/home/home.module.css","components/books_item/books_item.jsx","components/books_list/books_list.jsx","components/book_info/book_info.jsx","components/header/header.jsx","components/home/home.jsx","app.jsx","index.js","service/kakaoService.js","components/header/header.module.css","components/books_item/books_item.module.css"],"names":["module","exports","BooksItem","book","clickBook","history","useHistory","className","styles","book_list","onClick","push","console","log","book_item","src","thumbnail","alt","book_img","book_info","title","price","sale_price","BooksList","books","books_list","map","isbn","BookInfo","book_info_wrap","book_text","dl","authors","publisher","status","href","url","target","book_link","contents","Header","onSearch","onLogin","inputRef","useRef","goToBookList","searchResult","inputText","current","value","header","logo","process","logo_img","head_title","search","ref","search_bar","onKeyPress","event","key","search_btn","sign_area","login","Home","home","Kakao","window","App","kakaoService","useState","setBooks","clickedBook","setClickedBook","KakaoLogin","Auth","success","response","localStorage","setItem","fail","error","API","request","searchBook","query","then","useEffect","document","addEventListener","scrollingElement","scrollHeight","scrollTop","clientHeight","app","exact","path","this","pageNum","a","myHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","json","result_1","documents","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b1754be1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__2jLc5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book_info_wrap\":\"book_info_book_info_wrap__dufib\",\"book_info\":\"book_info_book_info__27nAE\",\"book_img\":\"book_info_book_img__Tn0oZ\",\"title\":\"book_info_title__SGkSB\",\"authors\":\"book_info_authors__n97_b\",\"dl\":\"book_info_dl__23QXS\",\"price\":\"book_info_price__1Blsm\",\"sale_price\":\"book_info_sale_price__2Gav8\",\"book_link\":\"book_info_book_link___Y6Jn\",\"contents\":\"book_info_contents__2V1Qk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"books_list\":\"books_list_books_list__kY_hM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home_home__2jJzp\",\"login\":\"home_login__3N2is\"};","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styles from \"./books_item.module.css\";\r\n\r\nconst BooksItem = ({ book, clickBook }) => {\r\n  const history = useHistory();\r\n\r\n  const goToBookInfo = () => {\r\n    history.push(\"/book-info\");\r\n    clickBook(book);\r\n    console.log(clickBook);\r\n  };\r\n\r\n  return (\r\n    <li className={styles.book_list} onClick={goToBookInfo}>\r\n      <div className={styles.book_item}>\r\n        <img\r\n          src={book.thumbnail}\r\n          alt={book.thumbnail}\r\n          className={styles.book_img}\r\n        />\r\n\r\n        <div className={styles.book_info}>\r\n          <h3 className={styles.title}> {book.title}</h3>\r\n          <div>\r\n            <div className={styles.price}>\r\n              <span>정상가</span>\r\n              <span> {book.price} 원</span>\r\n            </div>\r\n\r\n            <div className={styles.sale_price}>\r\n              <span>판매가</span>\r\n              <span> {book.sale_price} 원</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default BooksItem;\r\n","import React from \"react\";\r\nimport BooksItem from \"../books_item/books_item\";\r\nimport styles from \"./books_list.module.css\";\r\n\r\nconst BooksList = ({ books, clickBook }) => {\r\n  return (\r\n    <>\r\n      <ul className={styles.books_list}>\r\n        {books.map((book) => (\r\n          <BooksItem key={book.isbn} book={book} clickBook={clickBook} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BooksList;\r\n","import React from \"react\";\r\nimport styles from \"./book_info.module.css\";\r\n\r\nconst BookInfo = ({ book }) => {\r\n  console.log(book);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.book_info_wrap}>\r\n        <div className={styles.book_info}>\r\n          <img\r\n            src={book.thumbnail}\r\n            alt={book.title}\r\n            className={styles.book_img}\r\n          />\r\n          <div className={styles.book_text}>\r\n            <h2 className={styles.title}>{book.title}</h2>\r\n\r\n            <dl className={styles.dl}>\r\n              <dt>저자</dt>\r\n              <dd>{book.authors}</dd>\r\n            </dl>\r\n\r\n            <dl className={styles.dl}>\r\n              <dt>출판사</dt>\r\n              <dd>{book.publisher}</dd>\r\n            </dl>\r\n\r\n            <dl className={styles.dl}>\r\n              <dt>판매정보</dt>\r\n              <dd>{book.status}</dd>\r\n            </dl>\r\n\r\n            <dl className={`${styles.dl} ${styles.price}`}>\r\n              <dt>정상가</dt>\r\n              <dd>{book.price}원</dd>\r\n            </dl>\r\n\r\n            <dl className={`${styles.dl} ${styles.sale_price}`}>\r\n              <dt>판매가</dt>\r\n              <dd>{book.sale_price}원</dd>\r\n            </dl>\r\n\r\n            <a href={book.url} target=\"_blank\" className={styles.book_link}>\r\n              구매하러 가기\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <p className={styles.contents}>{book.contents}</p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookInfo;\r\n","import React, { useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styles from \"./header.module.css\";\r\n\r\nconst Header = ({ onSearch, onLogin }) => {\r\n  const history = useHistory();\r\n  const inputRef = useRef();\r\n\r\n  const goToHome = () => {\r\n    history.push(\"/react_kakao-book\");\r\n  };\r\n\r\n  const goToBookList = () => {\r\n    history.push(\"/react_kakao/book-list\");\r\n  };\r\n\r\n  const searchEnter = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      searchResult();\r\n      goToBookList();\r\n    }\r\n  };\r\n\r\n  const searchClick = () => {\r\n    searchResult();\r\n    goToBookList();\r\n  };\r\n\r\n  const searchResult = () => {\r\n    const inputText = inputRef.current.value;\r\n    if (!inputText) {\r\n      return;\r\n    }\r\n    onSearch(inputText);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.logo} onClick={goToHome}>\r\n        <img\r\n          src={process.env.PUBLIC_URL + \"/imgs/logo.png\"}\r\n          className={styles.logo_img}\r\n          alt=\"logo\"\r\n        />\r\n        <h1 className={styles.head_title}>Kakao Book</h1>\r\n      </div>\r\n\r\n      <div className={styles.search}>\r\n        <input\r\n          ref={inputRef}\r\n          className={styles.search_bar}\r\n          onKeyPress={searchEnter}\r\n        />\r\n        <button className={styles.search_btn} onClick={searchClick}>\r\n          검색\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.sign_area}>\r\n        <img\r\n          src={process.env.PUBLIC_URL + \"/imgs/kakao_login_small.png\"}\r\n          alt=\"카카오톡 로그인\"\r\n          className={styles.login}\r\n          onClick={onLogin}\r\n        />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styles from \"./home.module.css\";\r\n\r\nconst Home = ({ onLogin }) => {\r\n  return (\r\n    <div className={styles.home}>\r\n      <h2>\r\n        안녕하세요 <br />\r\n        KAKAO BOOK 입니다.\r\n      </h2>\r\n      <h4>원하시는 책 정보를 검색해주세요.</h4>\r\n      {/* <img\r\n        src={process.env.PUBLIC_URL + \"/imgs/kakao_login_large_narrow.png\"}\r\n        alt=\"카카오톡 로그인\"\r\n        className={styles.login}\r\n        onClick={onLogin}\r\n      /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport styles from \"./app.module.css\";\nimport BooksList from \"./components/books_list/books_list\";\nimport BookInfo from \"./components/book_info/book_info\";\nimport Header from \"./components/header/header\";\nimport Home from \"./components/home/home\";\n// import KakaoLogin from \"./components/kakao_login/kakao_login\";\n\nconst { Kakao } = window;\n\nfunction App({ kakaoService }) {\n  const [books, setBooks] = useState([]);\n  const [clickedBook, setClickedBook] = useState(null);\n\n  // 카카오 로그인\n  const KakaoLogin = () => {\n    Kakao.Auth.login({\n      success: function (response) {\n        localStorage.setItem(\"kakao_token\");\n        console.log(response);\n      },\n      fail: function (error) {\n        console.log(error);\n      },\n    });\n    console.log(\"login\");\n  };\n\n  Kakao.API.request({\n    url: \"/v2/user/me\",\n  });\n\n  // 클릭한 책 정보\n  const clickBook = (book) => {\n    setClickedBook(book);\n  };\n\n  // 검색한 책 리스트\n  const searchBook = (query) => {\n    kakaoService\n      .search(query) //\n      .then((books) => setBooks(books));\n  };\n\n  useEffect(() => {\n    const onScroll = (event) => {\n      const { scrollHeight, scrollTop, clientHeight } =\n        event.target.scrollingElement;\n      console.log(\"hey\");\n      if (scrollTop + clientHeight >= scrollHeight) {\n        searchBook();\n      }\n    };\n    document.addEventListener(\"scroll\", onScroll);\n  }, []);\n\n  return (\n    <div className={styles.app}>\n      <Header onSearch={searchBook} onLogin={KakaoLogin} />\n\n      <Switch>\n        <Route exact path=\"/react_kakao-book\">\n          <Home onLogin={KakaoLogin} />\n        </Route>\n\n        <Route path=\"/react_kakao/book-list\">\n          <BooksList books={books} clickBook={clickBook} />\n        </Route>\n\n        {/* <Route path=\"/react_kakao/login\">\n          <KakaoLogin />\n        </Route> */}\n\n        {clickedBook && (\n          <Route path=\"/book-info\">\n            <BookInfo book={clickedBook} />\n          </Route>\n        )}\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport KakaoService from \"./service/kakaoService\";\n\nconst kakaoService = new KakaoService(process.env.REACT_APP_KAKAO_API_KEY);\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <div className=\"app\">\n        <App kakaoService={kakaoService} />\n      </div>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n// f1ecec569093bda2f73f5de912bd4656\n","import axios from \"axios\";\r\n\r\nclass KakaoService {\r\n  constructor(key) {\r\n    this.key = key;\r\n    this.pageNum = 3;\r\n  }\r\n\r\n  // 검색시 api\r\n  async search(query) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", `KakaoAK ${this.key}`);\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    const response = await fetch(\r\n      `https://dapi.kakao.com/v3/search/book?query=${query}&page=${this.pageNum}&size=20`,\r\n      requestOptions\r\n    );\r\n    const result_1 = await response.json();\r\n    return result_1.documents;\r\n  }\r\n\r\n  //\r\n  //\r\n\r\n  // 다음페이지\r\n}\r\n\r\nexport default KakaoService;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__mKSL0\",\"logo\":\"header_logo__3X6B4\",\"logo_img\":\"header_logo_img__3zw8C\",\"head_title\":\"header_head_title__3HOEY\",\"search\":\"header_search__38ume\",\"search_bar\":\"header_search_bar__2WDB3\",\"search_btn\":\"header_search_btn__2cHhO\",\"login\":\"header_login__3_RxH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book_list\":\"books_item_book_list__3Pymk\",\"book_item\":\"books_item_book_item__2Ue9z\",\"book_info\":\"books_item_book_info__Ff2oH\",\"book_img\":\"books_item_book_img__2R5Za\",\"title\":\"books_item_title__dFqWL\",\"price\":\"books_item_price__36RXX\",\"sale_price\":\"books_item_sale_price__3cZQa\"};"],"sourceRoot":""}