(this.webpackJsonpkakao_book=this.webpackJsonpkakao_book||[]).push([[0],{28:function(e,o,c){e.exports={app:"app_app__2jLc5"}},3:function(e,o,c){e.exports={book_info_wrap:"book_info_book_info_wrap__dufib",book_info:"book_info_book_info__27nAE",book_img:"book_info_book_img__Tn0oZ",title:"book_info_title__SGkSB",authors:"book_info_authors__n97_b",dl:"book_info_dl__23QXS",price:"book_info_price__1Blsm",sale_price:"book_info_sale_price__2Gav8",book_link:"book_info_book_link___Y6Jn",contents:"book_info_contents__2V1Qk"}},30:function(e,o,c){e.exports={books_list:"books_list_books_list__kY_hM"}},31:function(e,o,c){e.exports={home:"home_home__2jJzp",login:"home_login__3N2is"}},39:function(e,o,c){},66:function(e,o,c){"use strict";c.r(o);var t=c(1),s=c.n(t),a=c(27),n=c.n(a),i=(c(39),c(16)),r=c(2),l=c(28),_=c.n(l),b=c(8),j=c.n(b),d=c(0),h=function(e){var o=e.book,c=e.clickBook,t=Object(r.f)();return Object(d.jsx)("li",{className:j.a.book_list,onClick:function(){t.push("/book-info"),c(o),console.log(c)},children:Object(d.jsxs)("div",{className:j.a.book_item,children:[Object(d.jsx)("img",{src:o.thumbnail,alt:o.thumbnail,className:j.a.book_img}),Object(d.jsxs)("div",{className:j.a.book_info,children:[Object(d.jsxs)("h3",{className:j.a.title,children:[" ",o.title]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:j.a.price,children:[Object(d.jsx)("span",{children:"\uc815\uc0c1\uac00"}),Object(d.jsxs)("span",{children:[" ",o.price," \uc6d0"]})]}),Object(d.jsxs)("div",{className:j.a.sale_price,children:[Object(d.jsx)("span",{children:"\ud310\ub9e4\uac00"}),Object(d.jsxs)("span",{children:[" ",o.sale_price," \uc6d0"]})]})]})]})]})})},k=c(30),u=c.n(k),m=function(e){var o=e.books,c=e.clickBook;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ul",{className:u.a.books_list,children:o.map((function(e){return Object(d.jsx)(h,{book:e,clickBook:c},e.isbn)}))})})},O=c(3),x=c.n(O),f=function(e){var o=e.book;return console.log(o),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:x.a.book_info_wrap,children:[Object(d.jsxs)("div",{className:x.a.book_info,children:[Object(d.jsx)("img",{src:o.thumbnail,alt:o.title,className:x.a.book_img}),Object(d.jsxs)("div",{className:x.a.book_text,children:[Object(d.jsx)("h2",{className:x.a.title,children:o.title}),Object(d.jsxs)("dl",{className:x.a.dl,children:[Object(d.jsx)("dt",{children:"\uc800\uc790"}),Object(d.jsx)("dd",{children:o.authors})]}),Object(d.jsxs)("dl",{className:x.a.dl,children:[Object(d.jsx)("dt",{children:"\ucd9c\ud310\uc0ac"}),Object(d.jsx)("dd",{children:o.publisher})]}),Object(d.jsxs)("dl",{className:x.a.dl,children:[Object(d.jsx)("dt",{children:"\ud310\ub9e4\uc815\ubcf4"}),Object(d.jsx)("dd",{children:o.status})]}),Object(d.jsxs)("dl",{className:"".concat(x.a.dl," ").concat(x.a.price),children:[Object(d.jsx)("dt",{children:"\uc815\uc0c1\uac00"}),Object(d.jsxs)("dd",{children:[o.price,"\uc6d0"]})]}),Object(d.jsxs)("dl",{className:"".concat(x.a.dl," ").concat(x.a.sale_price),children:[Object(d.jsx)("dt",{children:"\ud310\ub9e4\uac00"}),Object(d.jsxs)("dd",{children:[o.sale_price,"\uc6d0"]})]}),Object(d.jsx)("a",{href:o.url,target:"_blank",className:x.a.book_link,children:"\uad6c\ub9e4\ud558\ub7ec \uac00\uae30"})]})]}),Object(d.jsx)("p",{className:x.a.contents,children:o.contents})]})})},p=c(7),g=c.n(p),v=function(e){var o=e.onSearch,c=e.onLogin,s=Object(r.f)(),a=Object(t.useRef)(),n=function(){s.push("/react_kakao/book-list")},i=function(){var e=a.current.value;e&&o(e)};return Object(d.jsxs)("header",{className:g.a.header,children:[Object(d.jsxs)("div",{className:g.a.logo,onClick:function(){s.push("/react_kakao-book")},children:[Object(d.jsx)("img",{src:"/react_kakao-book/imgs/logo.png",className:g.a.logo_img,alt:"logo"}),Object(d.jsx)("h1",{className:g.a.head_title,children:"Kakao Book"})]}),Object(d.jsxs)("div",{className:g.a.search,children:[Object(d.jsx)("input",{ref:a,className:g.a.search_bar,onKeyPress:function(e){"Enter"===e.key&&(i(),n())}}),Object(d.jsx)("button",{className:g.a.search_btn,onClick:function(){i(),n()},children:"\uac80\uc0c9"})]}),Object(d.jsx)("div",{className:g.a.sign_area,children:Object(d.jsx)("img",{src:"/react_kakao-book/imgs/kakao_login_small.png",alt:"\uce74\uce74\uc624\ud1a1 \ub85c\uadf8\uc778",className:g.a.login,onClick:c})})]})},N=c(31),w=c.n(N),S=function(e){e.onLogin;return Object(d.jsxs)("div",{className:w.a.home,children:[Object(d.jsxs)("h2",{children:["\uc548\ub155\ud558\uc138\uc694 ",Object(d.jsx)("br",{}),"KAKAO BOOK \uc785\ub2c8\ub2e4."]}),Object(d.jsx)("h4",{children:"\uc6d0\ud558\uc2dc\ub294 \ucc45 \uc815\ubcf4\ub97c \uac80\uc0c9\ud574\uc8fc\uc138\uc694."})]})},B=window.Kakao;var y=function(e){var o=e.kakaoService,c=Object(t.useState)([]),s=Object(i.a)(c,2),a=s[0],n=s[1],l=Object(t.useState)(null),b=Object(i.a)(l,2),j=b[0],h=b[1],k=function(){B.Auth.login({success:function(e){localStorage.setItem("kakao_token"),console.log(e)},fail:function(e){console.log(e)}}),console.log("login")};B.API.request({url:"/v2/user/me"});var u=function(e){o.search(e).then((function(e){return n(e)}))};return Object(t.useEffect)((function(){document.addEventListener("scroll",(function(e){var o=e.target.scrollingElement,c=o.scrollHeight,t=o.scrollTop,s=o.clientHeight;console.log("hey"),t+s>=c&&u()}))}),[]),Object(d.jsxs)("div",{className:_.a.app,children:[Object(d.jsx)(v,{onSearch:u,onLogin:k}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{exact:!0,path:"/react_kakao-book",children:Object(d.jsx)(S,{onLogin:k})}),Object(d.jsx)(r.a,{path:"/react_kakao/book-list",children:Object(d.jsx)(m,{books:a,clickBook:function(e){h(e)}})}),j&&Object(d.jsx)(r.a,{path:"/book-info",children:Object(d.jsx)(f,{book:j})})]})]})},K=c(9),E=c(15),L=c.n(E),A=c(32),H=c(33),z=c(34),C=(c(47),new(function(){function e(o){Object(H.a)(this,e),this.key=o,this.pageNum=3}return Object(z.a)(e,[{key:"search",value:function(){var e=Object(A.a)(L.a.mark((function e(o){var c,t,s,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("Authorization","KakaoAK ".concat(this.key)),t={method:"GET",headers:c,redirect:"follow"},e.next=5,fetch("https://dapi.kakao.com/v3/search/book?query=".concat(o,"&page=").concat(this.pageNum,"&size=20"),t);case 5:return s=e.sent,e.next=8,s.json();case 8:return a=e.sent,e.abrupt("return",a.documents);case 10:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}()}]),e}())("f1ecec569093bda2f73f5de912bd4656"));n.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(K.a,{children:Object(d.jsx)("div",{className:"app",children:Object(d.jsx)(y,{kakaoService:C})})})}),document.getElementById("root"))},7:function(e,o,c){e.exports={header:"header_header__mKSL0",logo:"header_logo__3X6B4",logo_img:"header_logo_img__3zw8C",head_title:"header_head_title__3HOEY",search:"header_search__38ume",search_bar:"header_search_bar__2WDB3",search_btn:"header_search_btn__2cHhO",login:"header_login__3_RxH"}},8:function(e,o,c){e.exports={book_list:"books_item_book_list__3Pymk",book_item:"books_item_book_item__2Ue9z",book_info:"books_item_book_info__Ff2oH",book_img:"books_item_book_img__2R5Za",title:"books_item_title__dFqWL",price:"books_item_price__36RXX",sale_price:"books_item_sale_price__3cZQa"}}},[[66,1,2]]]);
//# sourceMappingURL=main.b1754be1.chunk.js.map